<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register</title>

  <link rel="stylesheet" href="style.css">
  <script type="text/javascript">
    
    function validate() {
      var failMsg = validateFirstname(document.getElementById('firstname').value);
      failMsg += validateLastname(document.getElementById('lastname').value);
      failMsg += validateNumber(document.getElementById('phone').value);
      failMsg += validateUsername(document.getElementById('username').value);
      failMsg += validateEmail(document.getElementById('email').value);
      var password = document.getElementById('password').value;
      var password2 = document.getElementById('password1').value;

      if (password != password2) {
        failMsg+= "The password doesnt match";
      } else {
        failMsg += validatePassword(password);
      }

      if (failMsg === "") {
        alert("Successful validations!");
        return true;
      } else {
        alert(failMsg);
        return false;
      }
    }

    function validateFirstname(field) {
      if (field === "") return "No Firstname was entered.\n";
      else if (!/^[a-zA-Z\s]+$/.test(field)) return "Enter Valid first Name.\n";
      return "";
    }

    function validateLastname(field) {
      if (field === "") return "No Lastname was entered.\n";
      else if (!/^[a-zA-Z\s]+$/.test(field)) return "Enter Valid last Name.\n";
      return "";
    }

    function validateUsername(field) {
      if (field === "") return "No Username was entered.\n";
      else if (field.length < 5) return "Username must be at least 5 characters.\n";
      else if (/[^a-zA-Z0-9_-]/.test(field)) return "Only a-z, A-Z, 0-9, - and _ allowed in Username.\n";
      return "";
    }

    function validatePassword(field) {
      if (field === "") return "No Password was entered.\n";
      else if (field.length < 6) return "Password must be at least 6 characters.\n";
      else if (!/[a-z]/.test(field) || !/[A-Z]/.test(field) || !/[0-9]/.test(field)) return "Password requires at least one lowercase letter, one uppercase letter, and one digit.\n";
      return "";
    }

    function validateNumber(field) {
      if (isNaN(field)) return "No phone number was entered.\n";
      else if (field.length < 10) return "Please enter a valid 10-digit phone number.\n";
      return "";
    }

    function validateEmail(field) {
      if (field === "") return "No Email was entered.\n";
      else if (!(/\S+@\S+\.\S+/.test(field))) return "The Email is not valid.\n";
      return "";
    }
  </script>
</head>

<body>
  <div class="first-container">
    <h1>Sign Up</h1>
    <div class="container">
      <form name="Register" action ="register.php" method="post" onsubmit="return validate()">
        <label for="firstname">First Name:</label>
        <input type="text" id="firstname" name="firstname" required>

        <label for="lastname">Last Name:</label>
        <input type="text" id="lastname" name="lastname" required>

        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required>

        <label for="city">City:</label>
        <input type="text" id="city" name="city" required>

        <label for="phone">Phone Number:</label>
        <input type="text" id="phone" name="phone" required>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>

        <label for="password1">Password:</label>
        <input type="password" id="password1" name="password1" required>

        <label for="password">Confirm Password:</label>
        <input type="password" id="password" name="password" required>

        <input type="submit" value="Submit">
      </form>
    </div>
  </div>
</body>

</html>
